import{f as x,g as y,h as R,r as T,c as s,o as l,a as e,b as k,w as _,e as v,d as z,m as $,n as i,v as f,F as L,j as V,i as C,t as d,p as B,k as j,q as U}from"./app-D3_-grU_.js";import{a as D}from"./vue-router-BK4ol-iN.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black"},F={class:"sticky top-0 z-50 bg-black/80 backdrop-blur-xl border-b border-white/10 shadow-2xl"},H={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},O={class:"flex justify-between items-center h-16"},G={class:"flex items-center space-x-4"},J={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},K={key:0,class:"flex justify-center items-center py-20"},Q={key:1,class:"text-center py-20"},W={class:"grid grid-cols-1 lg:grid-cols-3 gap-10"},X={class:"lg:col-span-2 space-y-10"},Y={class:"bg-white/5 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/10 p-10"},Z={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},ee={class:"md:col-span-2"},te={class:"md:col-span-2"},oe={class:"bg-white/5 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/10 p-10"},re={class:"space-y-6"},ae=["onClick"],se={class:"flex items-center space-x-6"},le={class:"text-4xl"},de={class:"flex-1"},ne={class:"font-bold text-white text-lg"},ie={class:"text-gray-400 text-sm"},ce={class:"w-6 h-6 border-2 border-white/30 rounded-full flex items-center justify-center"},ue={key:0,class:"w-4 h-4 bg-orange-500 rounded-full"},pe=["value"],fe={class:"lg:col-span-1"},xe={class:"sticky top-24"},ve={class:"bg-white/5 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/10 p-8"},be={class:"space-y-6 mb-8"},me={class:"w-16 h-16 bg-gradient-to-br from-gray-700 to-gray-800 rounded-2xl overflow-hidden flex-shrink-0 shadow-lg"},ge=["src","alt"],he={class:"flex-1 min-w-0"},we={class:"text-sm font-bold text-white truncate"},ye={class:"text-xs text-gray-400"},ke={class:"text-xs text-gray-400"},_e={class:"text-sm font-bold text-orange-400"},Ce={class:"border-t border-white/20 pt-6 space-y-4"},je={class:"flex justify-between items-center"},Me={class:"font-semibold text-white"},ze={class:"flex justify-between items-center"},Le={key:0,class:"text-sm text-green-400 bg-green-500/20 backdrop-blur-sm px-4 py-3 rounded-2xl border border-green-500/30"},Ve={class:"border-t border-white/20 pt-4"},Be={class:"flex justify-between items-center"},qe={class:"text-3xl font-black text-orange-400"},Pe=["disabled"],Ee={key:0,class:"animate-spin -ml-1 mr-3 h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Ie={__name:"Index",setup(Ne){const q=D(),g="http://127.0.0.1:8000",c=x([]),h=x(!0),u=x(!1),r=x({name:"",email:"",phone:"",address:"",city:"",notes:"",payment_method:""}),P=x([{id:"card",name:"Tarjeta de cr√©dito/d√©bito",description:"Pago seguro con tarjeta",icon:"üí≥"},{id:"transfer",name:"Transferencia bancaria",description:"Pago por transferencia",icon:"üè¶"},{id:"cash",name:"Pago contra entrega",description:"Paga cuando recibas tu pedido",icon:"üíµ"}]),E=async()=>{h.value=!0;try{const{data:a}=await j.get(`${g}/api/cart`);c.value=a.data||a}catch(a){console.error("Error cargando carrito",a),c.value=[]}finally{h.value=!1}},I=async()=>{if(!u.value){u.value=!0;try{const a={...r.value,items:c.value.map(n=>({product_id:n.product.id,quantity:n.quantity,price:n.product.price})),total:M.value,shipping:p.value},{data:t}=await j.post(`${g}/api/orders`,a);await j.delete(`${g}/api/cart/clear`),q.push(`/orders/${t.order.id}?success=true`)}catch(a){console.error("Error creando pedido",a),alert("Error al procesar el pedido. Por favor intenta nuevamente.")}finally{u.value=!1}}},w=y(()=>c.value.reduce((a,t)=>a+t.product.price*t.quantity,0)),p=y(()=>w.value>=1e5?0:1e4),M=y(()=>w.value+p.value),b=a=>{if(a==null)return"‚Äî";try{return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0}).format(a)}catch{return`$${a}`}},N=a=>{a.target.src="/images/placeholders/product.png"};return R(()=>{E()}),(a,t)=>{const n=T("RouterLink");return l(),s("div",A,[e("header",F,[e("div",H,[e("div",O,[k(n,{class:"flex items-center space-x-3",to:"/"},{default:_(()=>[...t[8]||(t[8]=[e("div",{class:"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-600 rounded-xl flex items-center justify-center"},[e("span",{class:"text-white font-bold text-lg"},"C")],-1),e("div",{class:"flex flex-col"},[e("span",{class:"text-xl font-bold text-white"},"ComercioPlus"),e("span",{class:"text-xs text-gray-400"},"Repuestos & Accesorios")],-1)])]),_:1}),e("div",G,[k(n,{class:"flex items-center space-x-2 text-gray-300 hover:text-orange-400 px-4 py-2 rounded-lg transition-colors border border-white/10 hover:border-orange-400/30",to:"/cart"},{default:_(()=>[...t[9]||(t[9]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),e("span",null,"Volver al carrito",-1)])]),_:1})])])])]),e("main",J,[t[28]||(t[28]=v('<div class="text-center mb-12" data-v-f14df3ea><div class="inline-flex items-center px-6 py-3 bg-orange-500/20 backdrop-blur-sm text-orange-300 rounded-full text-sm font-semibold mb-6 border border-orange-500/30" data-v-f14df3ea><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f14df3ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-v-f14df3ea></path></svg> Finalizar Compra </div><h1 class="text-5xl md:text-7xl font-black text-white mb-6" data-v-f14df3ea> Completa tu <span class="bg-gradient-to-r from-orange-400 via-red-500 to-yellow-500 bg-clip-text text-transparent" data-v-f14df3ea> Pedido </span></h1><p class="text-2xl text-gray-300 max-w-3xl mx-auto leading-relaxed" data-v-f14df3ea> Solo un paso m√°s para recibir tus repuestos de motocicleta </p></div>',1)),h.value?(l(),s("div",K,[...t[10]||(t[10]=[e("div",{class:"animate-spin rounded-full h-16 w-16 border-b-4 border-orange-500"},null,-1)])])):c.value.length===0?(l(),s("div",Q,[t[12]||(t[12]=v('<div class="relative mb-12" data-v-f14df3ea><div class="w-40 h-40 bg-gradient-to-br from-gray-700 to-gray-800 rounded-full flex items-center justify-center mx-auto mb-8 shadow-2xl" data-v-f14df3ea><svg class="w-20 h-20 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f14df3ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5H19M7 13l-1.1 5M7 13H5.4" data-v-f14df3ea></path></svg></div><div class="absolute top-10 left-1/4 w-8 h-8 bg-orange-500/20 rounded-full blur-sm animate-pulse" data-v-f14df3ea></div><div class="absolute bottom-10 right-1/4 w-6 h-6 bg-blue-500/20 rounded-full blur-sm animate-pulse delay-1000" data-v-f14df3ea></div></div><h2 class="text-4xl font-black text-white mb-6" data-v-f14df3ea>No hay productos en tu carrito</h2><p class="text-xl text-gray-400 mb-10 max-w-lg mx-auto leading-relaxed" data-v-f14df3ea> Agrega algunos productos antes de proceder al pago </p>',3)),k(n,{class:"inline-block bg-gradient-to-r from-orange-500 to-red-600 text-white px-10 py-5 rounded-2xl font-bold hover:shadow-2xl hover:shadow-orange-500/25 transition-all duration-500 transform hover:scale-110 text-xl",to:"/products"},{default:_(()=>[...t[11]||(t[11]=[e("svg",{class:"w-6 h-6 mr-3 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),z(" Explorar Productos ",-1)])]),_:1})])):(l(),s("form",{key:2,onSubmit:$(I,["prevent"]),class:"space-y-10"},[e("div",W,[e("div",X,[e("div",Y,[t[19]||(t[19]=v('<div class="flex items-center space-x-4 mb-8" data-v-f14df3ea><div class="w-12 h-12 bg-orange-500/20 backdrop-blur-sm rounded-2xl flex items-center justify-center border border-orange-500/30" data-v-f14df3ea><svg class="w-6 h-6 text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f14df3ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" data-v-f14df3ea></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" data-v-f14df3ea></path></svg></div><h2 class="text-3xl font-black text-white" data-v-f14df3ea>Informaci√≥n de env√≠o</h2></div>',1)),e("div",Z,[e("div",ee,[t[13]||(t[13]=e("label",{class:"block text-sm font-semibold text-gray-300 mb-3"},"Nombre completo *",-1)),i(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>r.value.name=o),type:"text",required:"",class:"w-full px-6 py-4 bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300",placeholder:"Tu nombre completo"},null,512),[[f,r.value.name]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-semibold text-gray-300 mb-3"},"Correo electr√≥nico *",-1)),i(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>r.value.email=o),type:"email",required:"",class:"w-full px-6 py-4 bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300",placeholder:"tu@email.com"},null,512),[[f,r.value.email]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-semibold text-gray-300 mb-3"},"Tel√©fono *",-1)),i(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>r.value.phone=o),type:"tel",required:"",class:"w-full px-6 py-4 bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300",placeholder:"+57 300 123 4567"},null,512),[[f,r.value.phone]])]),e("div",te,[t[16]||(t[16]=e("label",{class:"block text-sm font-semibold text-gray-300 mb-3"},"Direcci√≥n de env√≠o *",-1)),i(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=o=>r.value.address=o),required:"",rows:"4",class:"w-full px-6 py-4 bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300 resize-none",placeholder:"Direcci√≥n completa de env√≠o"},null,512),[[f,r.value.address]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-semibold text-gray-300 mb-3"},"Ciudad *",-1)),i(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>r.value.city=o),type:"text",required:"",class:"w-full px-6 py-4 bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300",placeholder:"Ciudad"},null,512),[[f,r.value.city]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-semibold text-gray-300 mb-3"},"Notas adicionales (opcional)",-1)),i(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=o=>r.value.notes=o),rows:"3",class:"w-full px-6 py-4 bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300 resize-none",placeholder:"Instrucciones especiales de entrega"},null,512),[[f,r.value.notes]])])])]),e("div",oe,[t[20]||(t[20]=v('<div class="flex items-center space-x-4 mb-8" data-v-f14df3ea><div class="w-12 h-12 bg-orange-500/20 backdrop-blur-sm rounded-2xl flex items-center justify-center border border-orange-500/30" data-v-f14df3ea><svg class="w-6 h-6 text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f14df3ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" data-v-f14df3ea></path></svg></div><h2 class="text-3xl font-black text-white" data-v-f14df3ea>M√©todo de pago</h2></div>',1)),e("div",re,[(l(!0),s(L,null,V(P.value,o=>(l(),s("div",{key:o.id,class:B(["relative p-6 border-2 border-white/20 rounded-2xl cursor-pointer transition-all duration-300 hover:border-orange-400/50 hover:bg-white/5 backdrop-blur-sm",{"border-orange-500 bg-orange-500/10 backdrop-blur-sm":r.value.payment_method===o.id}]),onClick:m=>r.value.payment_method=o.id},[e("div",se,[e("div",le,d(o.icon),1),e("div",de,[e("h3",ne,d(o.name),1),e("p",ie,d(o.description),1)]),e("div",ce,[r.value.payment_method===o.id?(l(),s("div",ue)):C("",!0)])]),i(e("input",{type:"radio",value:o.id,"onUpdate:modelValue":t[6]||(t[6]=m=>r.value.payment_method=m),required:"",class:"sr-only"},null,8,pe),[[U,r.value.payment_method]])],10,ae))),128))])])]),e("div",fe,[e("div",xe,[e("div",ve,[t[26]||(t[26]=e("h3",{class:"text-2xl font-black text-white mb-8"},"Resumen del pedido",-1)),e("div",be,[(l(!0),s(L,null,V(c.value,o=>(l(),s("div",{key:o.id,class:"flex items-center space-x-4 pb-6 border-b border-white/10 last:border-b-0 last:pb-0"},[e("div",me,[e("img",{src:o.product.image_url||"/images/placeholders/product.png",alt:o.product.name,class:"w-full h-full object-cover",onError:t[7]||(t[7]=m=>N(m))},null,40,ge)]),e("div",he,[e("h4",we,d(o.product.name),1),e("p",ye,d(o.product.store?.name||"Tienda"),1),e("p",ke,"Cant: "+d(o.quantity),1)]),e("div",_e,d(b(o.product.price*o.quantity)),1)]))),128))]),e("div",Ce,[e("div",je,[t[21]||(t[21]=e("span",{class:"text-gray-300"},"Subtotal",-1)),e("span",Me,d(b(w.value)),1)]),e("div",ze,[t[22]||(t[22]=e("span",{class:"text-gray-300"},"Env√≠o",-1)),e("span",{class:B(["font-semibold",p.value===0?"text-green-400":"text-white"])},d(p.value===0?"Gratis":b(p.value)),3)]),p.value===0?(l(),s("div",Le,[...t[23]||(t[23]=[e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})],-1),z(" ¬°Env√≠o gratis en compras superiores a $100.000! ",-1)])])):C("",!0),e("div",Ve,[e("div",Be,[t[24]||(t[24]=e("span",{class:"text-xl font-bold text-white"},"Total",-1)),e("span",qe,d(b(M.value)),1)])])]),e("button",{type:"submit",class:"w-full mt-8 bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white py-5 px-8 rounded-2xl font-bold hover:shadow-2xl hover:shadow-orange-500/25 transition-all duration-500 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center text-lg",disabled:u.value},[u.value?(l(),s("svg",Ee,[...t[25]||(t[25]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):C("",!0),e("span",null,d(u.value?"Procesando pedido...":"Realizar pedido"),1)],8,Pe),t[27]||(t[27]=v('<p class="text-sm text-gray-400 text-center mt-6" data-v-f14df3ea> Al realizar el pedido aceptas nuestros <a href="/terms" target="_blank" class="text-orange-400 hover:text-orange-300 underline transition-colors" data-v-f14df3ea> t√©rminos y condiciones </a></p><div class="mt-8 pt-6 border-t border-white/20" data-v-f14df3ea><div class="flex items-center justify-center space-x-8 text-sm text-gray-400" data-v-f14df3ea><div class="flex items-center bg-white/5 px-4 py-2 rounded-full" data-v-f14df3ea><svg class="w-4 h-4 mr-2 text-green-400" fill="currentColor" viewBox="0 0 24 24" data-v-f14df3ea><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" data-v-f14df3ea></path></svg> Pago Seguro </div><div class="flex items-center bg-white/5 px-4 py-2 rounded-full" data-v-f14df3ea><svg class="w-4 h-4 mr-2 text-blue-400" fill="currentColor" viewBox="0 0 24 24" data-v-f14df3ea><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" data-v-f14df3ea></path></svg> Env√≠o R√°pido </div></div></div>',2))])])])])],32))])])}}},Ue=S(Ie,[["__scopeId","data-v-f14df3ea"]]);export{Ue as default};
