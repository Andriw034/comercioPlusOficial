import{x,f as c,c as a,o as n,a as t,m as h,i as p,t as f,n as g,v as k,y as _,z as C,d as b,b as M,w as V,u as j}from"./app-D3_-grU_.js";import{u as z}from"./auth-qzTI82vx.js";import{R as B}from"./vue-router-BK4ol-iN.js";const E={class:"min-h-screen bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},N={class:"max-w-md w-full space-y-8"},I={key:0,class:"p-3 bg-red-100 border border-red-400 text-red-700 rounded text-sm"},L={key:0,class:"mt-1 text-sm text-red-600"},P=["type"],D={class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},R={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},S={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},U={key:0,class:"mt-1 text-sm text-red-600"},q={class:"flex items-center justify-between"},A={class:"flex items-center"},O=["disabled"],T={key:0},F={key:1},G={class:"text-center"},H={class:"text-sm text-gray-300"},X={__name:"Login",setup(J){const d=z(),s=x({email:"",password:"",remember:!1}),l=x({email:null,password:null}),i=c(""),u=c(!1),m=c(!1),y=()=>{m.value=!m.value},v=async()=>{w(),i.value="",u.value=!0;try{await d.login(s.email,s.password,s.remember),d.user&&d.user.role==="comerciante"?d.user.store_id?window.location.href="/dashboard":window.location.href="/stores/create":window.location.href="/"}catch(o){if(u.value=!1,o.response&&o.response.data&&o.response.data.errors){const e=o.response.data.errors;for(const r in e)l.hasOwnProperty(r)&&(l[r]=e[r][0])}else o.response&&o.response.data&&o.response.data.message?i.value=o.response.data.message:i.value="Error al iniciar sesión. Inténtalo de nuevo."}},w=()=>{l.email=null,l.password=null,i.value=""};return(o,e)=>(n(),a("div",E,[t("div",N,[e[9]||(e[9]=t("div",null,[t("h2",{class:"mt-6 text-center text-3xl font-bold text-orange-500"},"Bienvenido ComercioPlus"),t("p",{class:"mt-2 text-center text-sm text-gray-300"},"Ingresa a tu cuenta")],-1)),t("form",{onSubmit:h(v,["prevent"]),class:"mt-8 space-y-6 bg-gray-800 rounded-lg p-6"},[i.value?(n(),a("div",I,f(i.value),1)):p("",!0),t("div",null,[e[3]||(e[3]=t("label",{for:"email",class:"block text-sm font-medium text-gray-300"},"Correo electrónico",-1)),g(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=r=>s.email=r),type:"email",required:"",class:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-600 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 bg-white sm:text-sm",placeholder:"tu@email.com"},null,512),[[k,s.email]]),l.email?(n(),a("p",L,f(l.email),1)):p("",!0)]),t("div",null,[e[4]||(e[4]=t("label",{for:"password",class:"block text-sm font-medium text-gray-300"},"Contraseña",-1)),g(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=r=>s.password=r),type:m.value?"text":"password",required:"",class:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-600 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 bg-white sm:text-sm",placeholder:"••••••••"},null,8,P),[[_,s.password]]),t("button",{type:"button",onClick:y,class:"absolute inset-y-0 right-0 pr-3 flex items-center mt-6"},[(n(),a("svg",D,[m.value?(n(),a("path",S)):(n(),a("path",R))]))]),l.password?(n(),a("p",U,f(l.password),1)):p("",!0)]),t("div",q,[t("div",A,[g(t("input",{id:"remember","onUpdate:modelValue":e[2]||(e[2]=r=>s.remember=r),type:"checkbox",class:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"},null,512),[[C,s.remember]]),e[5]||(e[5]=t("label",{for:"remember",class:"ml-2 block text-sm text-gray-300"},"Recuérdame",-1))]),e[6]||(e[6]=t("div",{class:"text-sm"},[t("a",{href:"#",class:"font-medium text-orange-500 hover:text-orange-400"},"¿Olvidaste tu contraseña?")],-1))]),t("div",null,[t("button",{type:"submit",disabled:u.value,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-500 hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50"},[u.value?(n(),a("span",T,"Iniciando sesión...")):(n(),a("span",F,"Iniciar sesión"))],8,O)]),t("div",G,[t("p",H,[e[8]||(e[8]=b(" ¿No tienes cuenta? ",-1)),M(j(B),{to:"/register",class:"font-medium text-orange-500 hover:text-orange-400 ml-1"},{default:V(()=>[...e[7]||(e[7]=[b("Crea una cuenta",-1)])]),_:1})])])],32)])]))}};export{X as default};
