import{_ as w,u as y,r as c,o as b,a as k,b as a,c as n,d as e,t as r,F as M,e as j,f as h,w as u,A as v,g as _}from"./index-e8ccebb2.js";const L={name:"StoreDetail",setup(){const x=y(),t=c(!0),i=c(""),s=c(null),m=c([]),g=async()=>{var l,o;try{t.value=!0,i.value="";const d=x.params.id,p=await v.get(`/public-stores/${d}`);s.value=p.data;const f=await v.get("/products",{params:{store_id:s.value.id,per_page:20}});m.value=f.data.data||[]}catch(d){console.error("Store detail loading error:",d),i.value=((o=(l=d.response)==null?void 0:l.data)==null?void 0:o.message)||"Error al cargar la tienda"}finally{t.value=!1}};return b(()=>{g()}),{loading:t,error:i,store:s,storeProducts:m}}},B={class:"min-h-screen bg-gray-50"},C={key:0,class:"flex justify-center items-center py-12"},V={key:1,class:"bg-red-50 border border-red-200 rounded-md p-4 m-4"},z={class:"flex"},P={class:"ml-3"},S={class:"mt-2 text-sm text-red-700"},D={key:2,class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},E={class:"bg-white shadow rounded-lg overflow-hidden mb-6"},N={class:"relative h-64 bg-gradient-to-r from-orange-400 to-orange-600"},H={class:"absolute bottom-0 left-0 right-0 p-6 text-white"},R={class:"flex items-center justify-between"},T={class:"text-3xl font-bold"},A={class:"mt-2 text-orange-100"},F={class:"mt-4 flex items-center space-x-4"},I={class:"flex items-center"},q={class:"flex items-center"},G={class:"text-right"},J={class:"text-2xl font-bold"},K={class:"bg-white shadow rounded-lg"},O={class:"px-4 py-5 sm:p-6"},Q={class:"text-lg leading-6 font-medium text-gray-900 mb-4"},U={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},W={class:"aspect-w-1 aspect-h-1 bg-gray-200"},X=["src","alt"],Y={key:1,class:"w-full h-48 bg-gray-300 flex items-center justify-center"},Z={class:"p-4"},$={class:"text-sm font-medium text-gray-900 mb-1"},ee={class:"text-sm text-gray-500 mb-2 line-clamp-2"},te={class:"flex items-center justify-between"},se={class:"text-lg font-bold text-gray-900"},oe={class:"text-sm text-gray-500"},re={class:"mt-3 flex items-center justify-between"},ae={class:"flex items-center"},ne={class:"flex items-center"},le={class:"ml-1 text-sm text-gray-600"},ie={key:1,class:"text-center py-12"},de={key:3,class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},ce={class:"text-center py-12"},me={class:"mt-6"};function xe(x,t,i,s,m,g){const l=k("router-link");return a(),n("div",B,[s.loading?(a(),n("div",C,[...t[0]||(t[0]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"},null,-1)])])):s.error?(a(),n("div",V,[e("div",z,[t[2]||(t[2]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),e("div",P,[t[1]||(t[1]=e("h3",{class:"text-sm font-medium text-red-800"},"Error al cargar la tienda",-1)),e("div",S,r(s.error),1)])])])):s.store?(a(),n("div",D,[e("div",E,[e("div",N,[t[6]||(t[6]=e("div",{class:"absolute inset-0 bg-black bg-opacity-30"},null,-1)),e("div",H,[e("div",R,[e("div",null,[e("h1",T,r(s.store.name),1),e("p",A,r(s.store.description),1),e("div",F,[e("div",I,[t[3]||(t[3]=e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),e("span",null,r(s.store.address||"Dirección no especificada"),1)]),e("div",q,[t[4]||(t[4]=e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),e("span",null,r(s.store.phone||"Teléfono no especificado"),1)])])]),e("div",G,[e("div",J,r(s.storeProducts.length),1),t[5]||(t[5]=e("div",{class:"text-sm text-orange-100"},"productos",-1))])])])])]),e("div",K,[e("div",O,[e("h3",Q,"Productos de "+r(s.store.name),1),s.storeProducts.length>0?(a(),n("div",U,[(a(!0),n(M,null,j(s.storeProducts,o=>(a(),n("div",{key:o.id,class:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow duration-200"},[e("div",W,[o.image_url||o.image?(a(),n("img",{key:0,src:o.image_url||o.image,alt:o.name,class:"w-full h-48 object-cover"},null,8,X)):(a(),n("div",Y,[...t[7]||(t[7]=[e("svg",{class:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]))]),e("div",Z,[e("h4",$,r(o.name),1),e("p",ee,r(o.description),1),e("div",te,[e("span",se,"$"+r(o.price),1),e("span",oe,"Stock: "+r(o.stock),1)]),e("div",re,[e("div",ae,[e("div",ne,[t[8]||(t[8]=e("svg",{class:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),e("span",le,r(o.average_rating||"0.0"),1)])]),h(l,{to:`/product/${o.id}`,class:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-orange-600 bg-orange-100 hover:bg-orange-200"},{default:u(()=>[...t[9]||(t[9]=[_(" Ver detalle ",-1)])]),_:1},8,["to"])])])]))),128))])):(a(),n("div",ie,[...t[10]||(t[10]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No hay productos",-1),e("p",{class:"mt-1 text-sm text-gray-500"},"Esta tienda aún no tiene productos disponibles.",-1)])]))])])])):(a(),n("div",de,[e("div",ce,[t[12]||(t[12]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),t[13]||(t[13]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Tienda no encontrada",-1)),t[14]||(t[14]=e("p",{class:"mt-1 text-sm text-gray-500"},"La tienda que buscas no existe o no está disponible.",-1)),e("div",me,[h(l,{to:"/stores",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700"},{default:u(()=>[...t[11]||(t[11]=[_(" Ver todas las tiendas ",-1)])]),_:1})])])]))])}const he=w(L,[["render",xe]]);export{he as default};
